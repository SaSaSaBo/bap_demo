<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description"
            content="Elçiliklerin İzinde Pera Yürüyüş Rotası Paneli" />
        <meta name="author" content="Uluslararası Siyaset Proje Ekibi" />
        <title>Elçiliklerin İzinde - Pera Yürüyüş Rotası Paneli</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
            rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
            rel="stylesheet" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet" />
        <link href="css/styles.css" rel="stylesheet" />
        <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
        }

        #wrapper {
            display: flex;
            min-height: 100vh;
        }

        #sidebar-wrapper {
            min-width: 250px;
            max-width: 250px;
            background-color: #343a40;
            color: white;
            display: block;
            position: fixed;
            height: 100%;
            padding-top: 20px;
        }

        #page-content-wrapper {
            width: 100%;
            margin-left: 250px;
            padding: 20px;
        }

        @media (max-width: 768px) {
            #sidebar-wrapper {
                width: 200px;
            }

            #page-content-wrapper {
                margin-left: 200px;
            }
        }

        .navbar {
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
    </style>
    </head>

    <body>
        <div class="d-flex" id="wrapper">

            <!-- Sidebar -->
            <div class="bg-dark border-right" id="sidebar-wrapper">
                <div class="sidebar-heading text-white text-center py-4">Pera
                    Yürüyüş</div>
                <div class="list-group list-group-flush">
                    <a href="#"
                        class="list-group-item list-group-item-action bg-dark text-white">Ana
                        Sayfa</a>
                    <a href="./portfolio.html"
                        class="list-group-item list-group-item-action bg-dark text-white">Portfolio</a>
                    <a href="./hakkinda.html"
                        class="list-group-item list-group-item-action bg-dark text-white">Hakkında</a>
                    <a href="./feedback.html"
                        class="list-group-item list-group-item-action bg-dark text-white">Geri
                        Bildirim</a>
                    <a href="./index1.html"
                        class="list-group-item list-group-item-action bg-dark text-white">Çıkış</a>
                </div>
            </div>

            <!-- Page Content -->
            <div id="page-content-wrapper">

                <!-- Görevler Section -->
                <div class="row">
                    <div class="col-12">
                        <h2>Görevler</h2>
                        <hr />
                        <!-- Görev Tablosu -->
                        <div class="alert" role="alert"
                            style="background-color: #ffffff; color: #000;">
                            <button class="btn btn-success mb-3"
                                data-bs-toggle="modal"
                                data-bs-target="#taskModal">
                                Görev Ekle
                            </button>
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Görev Adı</th>
                                        <th>Açıklama</th>
                                        <th>Durum</th>
                                    </tr>
                                </thead>
                                <tbody id="taskTable">
                                    <tr data-task-id="1">
                                        <td>Görev 1</td>
                                        <td>Görev açıklaması burada yer
                                            alacak.</td>
                                        <td><span
                                                class="badge bg-success">Tamamlandı</span></td>
                                    </tr>
                                    <tr data-task-id="2">
                                        <td>Görev 2</td>
                                        <td>Görev açıklaması burada yer
                                            alacak.</td>
                                        <td><span
                                                class="badge bg-warning">İşlemede</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Geri Bildirimler Section -->
                <div class="row">
                    <div class="col-12">
                        <h3>Geri Bildirimler</h3>
                        <div class="table-responsive">
                            <table
                                class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Ad</th>
                                        <th>Mesaj</th>
                                        <th>Durum</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>John Doe</td>
                                        <td>Uygulama harika, daha fazla
                                            özellik
                                            ekleyebilirsiniz!</td>
                                        <td><span
                                                class="badge bg-info">Yeni</span></td>
                                    </tr>
                                    <tr>
                                        <td>Jane Smith</td>
                                        <td>Çok faydalı, ancak daha fazla
                                            dil
                                            desteği eklenmeli.</td>
                                        <td><span
                                                class="badge bg-warning">Görüş</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Modal: Görev Ekle -->
        <div class="modal fade" id="taskModal" tabindex="-1"
            aria-labelledby="taskModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="taskModalLabel">Görev
                            Düzenle</h5>
                        <button type="button" class="btn-close"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="taskForm">
                            <div class="mb-3">
                                <label for="taskName" class="form-label">Görev
                                    Adı</label>
                                <input type="text" class="form-control"
                                    id="taskName" required />
                            </div>
                            <div class="mb-3">
                                <label for="taskDescription"
                                    class="form-label">Açıklama</label>
                                <textarea class="form-control"
                                    id="taskDescription" rows="3"
                                    required></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"
                            data-bs-dismiss="modal">Kapat</button>
                        <button type="button" class="btn btn-primary"
                            id="saveTaskBtn">Kaydet</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            // Görev kaydetme işlemi
            document.getElementById('saveTaskBtn').addEventListener('click', () => {
                const taskName = document.getElementById('taskName').value;
                const taskDescription = document.getElementById('taskDescription').value;

                // Görev durumu her zaman "İşlemede" olacak
                const taskStatus = 'pending'; // "İşlemede" durumu "pending" olarak kabul edilecek

                // Yeni bir görev satırı ekleyelim
                const tableBody = document.getElementById('taskTable');
                const newRow = document.createElement('tr');
                newRow.setAttribute('data-task-id', Date.now()); // Unique bir ID ekleyelim (timestamp)
                newRow.innerHTML = `
                        <td>${taskName}</td>
                        <td>${taskDescription}</td>
                        <td><span class="badge bg-warning">İşlemede</span></td>
                    `;
                tableBody.appendChild(newRow);

                // Modal'ı kapatma
                const modal = bootstrap.Modal.getInstance(document.getElementById('taskModal'));
                modal.hide();
            });

            // Görev durumunu tıklama ile değiştirme
            document.getElementById('taskTable').addEventListener('click', function (event) {
                const target = event.target;
                if (target.classList.contains('badge')) {
                    const badge = target;
                    const currentStatus = badge.textContent.trim();
                    if (currentStatus === 'İşlemede') {
                        badge.textContent = 'Tamamlandı';
                        badge.classList.remove('bg-warning');
                        badge.classList.add('bg-success');
                    } else if (currentStatus === 'Beklemede') {
                        badge.textContent = 'İşlemede'; // "Beklemede" -> "İşlemede"
                        badge.classList.remove('bg-danger');
                        badge.classList.add('bg-warning');
                    } else if (currentStatus === 'Tamamlandı') {
                        badge.textContent = 'Beklemede';
                        badge.classList.remove('bg-success');
                        badge.classList.add('bg-danger');
                    }
                }
            });

            // Sayfa yüklendiğinde "Beklemede" olanları "İşlemede" yap
            document.addEventListener('DOMContentLoaded', () => {
                const tableBody = document.getElementById('taskTable');
                const rows = tableBody.querySelectorAll('tr');

                rows.forEach(row => {
                    const badge = row.querySelector('.badge');
                    if (badge && badge.textContent.trim() === 'Beklemede') {
                        badge.textContent = 'İşlemede';
                        badge.classList.remove('bg-danger');
                        badge.classList.add('bg-warning');
                    }
                });
            });
        </script>
    </body>

</html>